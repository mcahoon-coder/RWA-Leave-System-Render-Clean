<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}RWA Leave System{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- External CSS if present -->
  <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">

  <!-- Inline fallback so styles always work -->
  <style>
    /* ==== GLOBAL ==== */
    body { margin:0; font-family: Arial, Helvetica, sans-serif; background-color:#f5f5f5; }
    /* ==== NAVIGATION ==== */
    .nav { background-color: royalblue; color:#fff; padding:0.8rem 1.2rem; display:flex; align-items:center; justify-content:space-between; }
    .nav .brand { font-weight:bold; font-size:1.3rem; color:#fff; text-decoration:none; }
    .nav-links { list-style:none; margin:0; padding:0; display:flex; gap:1rem; }
    .nav-links li a { color:#fff; text-decoration:none; font-weight:500; }
    .nav-links li a:hover { text-decoration:underline; }
    /* ==== CONTENT WRAPPER (royal blue -> white) ==== */
    .content-wrapper { min-height:100vh; padding:2rem; background:linear-gradient(to bottom, royalblue 0%, #ffffff 100%); display:flex; justify-content:center; }
    /* ==== CONTAINER (pale yellow -> white) ==== */
    .container { max-width:1000px; width:100%; background:linear-gradient(to bottom, #fff9d9 0%, #ffffff 100%); border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,0.1); padding:2rem; color:#0f172a; }
    /* ==== FLASH ==== */
    .flash-stack { margin-bottom:1rem; }
    .flash { padding:0.8rem; margin-bottom:0.5rem; border-radius:4px; font-weight:bold; }
    .flash-success { background:#d4edda; color:#155724; }
    .flash-warning { background:#fff3cd; color:#856404; }
    .flash-danger { background:#f8d7da; color:#721c24; }
    /* ==== CARDS ==== */
    .card { background:#fff; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,0.1); padding:1.5rem; margin-bottom:1.5rem; }
    /* Buttons & tables */
    .btn { display:inline-block; padding:10px 14px; border-radius:8px; border:1px solid #cbd5e1; background:#f8fafc; color:#0f172a; text-decoration:none; cursor:pointer; }
    .btn:hover { background:#eef2ff; }
    table { width:100%; border-collapse:collapse; background:#fff; border-radius:8px; overflow:hidden; }
    th,td { border:1px solid #e5e7eb; padding:8px 10px; text-align:left; }
    thead th { background:#f8fafc; font-weight:700; }
    /* Forms */
    .form-row { display:flex; gap:16px; align-items:flex-end; }
    .form-row > div { flex:1; }
    .form-grid-2 { display:grid; grid-template-columns:1fr 1fr; gap:12px 16px; align-items:end; }
    .form-grid-2 .full { grid-column:1 / -1; }
    label { display:block; font-weight:600; margin-bottom:6px; color:#0f172a; }
    input[type="text"], input[type="password"], input[type="email"], input[type="number"], input[type="date"], input[type="time"], select, textarea {
      width:100%; padding:10px 12px; border:1px solid #cbd5e1; border-radius:10px; background:#ffffffcc; color:#0f172a;
    }
    @media (max-width:560px){ .form-row{flex-direction:column;} .form-grid-2{grid-template-columns:1fr;} }
  </style>

  {% block head %}{% endblock %}
</head>
<body>
  <!-- Nav -->
  <div class="nav">
    <a href="{{ NAV.dashboard }}" class="brand">RWA Leave</a>
    <ul class="nav-links">
      <li><a href="{{ NAV.dashboard }}">Dashboard</a></li>
      <li><a href="{{ NAV.my_requests }}">My Requests</a></li>
      <li><a href="{{ NAV.team_calendar }}">Calendar</a></li>
      <li><a href="{{ NAV.new_request }}">New Request</a></li>
      {% if current_user.is_authenticated and current_user.role == 'admin' %}
        <li><a href="{{ NAV.admin }}">Admin</a></li>
      {% endif %}
      <li><a href="{{ NAV.logout }}">Logout</a></li>
    </ul>
  </div>

  <div class="content-wrapper">
    <div class="container">
      <div class="flash-stack">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash flash-{{ category|lower }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
        {% endwith %}
      </div>

      {% block content %}{% endblock %}
    </div>
  </div>

  {% block scripts %}{% endblock %}
</body>
</html>
