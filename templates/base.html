<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>{% block title %}RWA Leave System{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Try external stylesheet first -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

  <!-- INLINE FALLBACK so the site is styled even if /static/styles.css 404s -->
  <style>
    :root{
      --blue:#4169e1;          /* royalblue */
      --yellow-soft:#fff9d9;   /* pale yellow */
      --ring:#cbd5e1;
      --muted:#6b7280;
      --danger:#dc2626;
      --success:#065f46;
      --shadow:0 4px 8px rgba(0,0,0,.08);
      --shadow-sm:0 2px 4px rgba(0,0,0,.08);
      --radius:10px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;color:#111827;background:#f5f5f5}

    /* NAV across the top */
    .nav{background:var(--blue);color:#fff;padding:.8rem 1.2rem;display:flex;align-items:center;justify-content:space-between}
    .nav .brand{font-weight:700;font-size:1.2rem;color:#fff;text-decoration:none}
    .nav-links{list-style:none;margin:0;padding:0;display:flex;gap:1rem}
    .nav-links li a{color:#fff;text-decoration:none;font-weight:600;opacity:.95}
    .nav-links li a:hover{text-decoration:underline}

    /* Page background gradient */
    .content-wrapper{min-height:calc(100vh - 56px);padding:2rem;background:linear-gradient(to bottom,var(--blue) 0%,#fff 100%);display:flex;justify-content:center}

    /* Content container (pale yellow -> white) */
    .container{max-width:1100px;width:100%;background:linear-gradient(to bottom,var(--yellow-soft) 0%,#fff 100%);border-radius:var(--radius);box-shadow:var(--shadow);padding:1.5rem}

    /* Flash messages */
    .flash-stack{margin-bottom:1rem}
    .flash{padding:.75rem .85rem;margin-bottom:.5rem;border-radius:8px;font-weight:600;box-shadow:var(--shadow-sm);border:1px solid transparent}
    .flash-success{background:#d1fae5;color:#065f46;border-color:#a7f3d0}
    .flash-warning{background:#fff7ed;color:#9a3412;border-color:#fed7aa}
    .flash-danger{background:#fee2e2;color:#991b1b;border-color:#fecaca}
    .flash-secondary{background:#eef2ff;color:#3730a3;border-color:#c7d2fe}

    /* Cards */
    .card{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow-sm);padding:1.25rem;margin-bottom:1rem}
    h1,h2,h3{margin:0 0 .6rem}
    .muted{color:var(--muted)}

    /* Forms */
    label{display:block;font-weight:700;margin-bottom:.35rem}
    input[type=text],input[type=password],input[type=email],input[type=number],input[type=date],select,textarea{
      width:100%;padding:.55rem .65rem;border:1px solid var(--ring);border-radius:8px;background:#fff;outline:none;
      transition:box-shadow .15s,border-color .15s,background .15s
    }
    input:focus,select:focus,textarea:focus{border-color:var(--blue);box-shadow:0 0 0 3px rgba(65,105,225,.18)}
    .input-sm{padding:.45rem .55rem;font-size:.92rem}
    .login-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:640px){.login-grid{grid-template-columns:1fr}}

    /* Buttons */
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;padding:.55rem .9rem;border:1px solid transparent;border-radius:8px;background:var(--blue);color:#fff;font-weight:700;cursor:pointer;text-decoration:none;box-shadow:var(--shadow-sm)}
    .btn:hover{filter:brightness(.95)}
    .btn.ghost{background:#fff;color:var(--blue);border:1px solid var(--ring)}
    .btn.sm{padding:.4rem .7rem;font-size:.92rem}
    .btn.danger{background:#ef4444}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .right{margin-left:auto}

    /* Tables (tight) */
    .table-tight{width:100%;border-collapse:separate;border-spacing:0;background:#fff;border-radius:10px;overflow:hidden;box-shadow:var(--shadow-sm)}
    .table-tight thead th{text-align:left;font-weight:800;padding:.6rem .7rem;background:#f8fafc;border-bottom:1px solid #e5e7eb;white-space:nowrap}
    .table-tight tbody td{padding:.5rem .7rem;border-bottom:1px solid #eef2f7;vertical-align:middle}
    .table-tight tbody tr:hover{background:#f9fafb}
    .table-tight tbody tr:last-child td{border-bottom:none}

    /* Balance colors */
    .text-danger{color:#dc2626!important;font-weight:700}
    .text-success{color:#065f46!important;font-weight:700}
  </style>

  {% block extra_head %}{% endblock %}
</head>
<body>
  <!-- Top Navigation (horizontal) -->
  <nav class="nav">
    <a class="brand" href="{{ NAV.dashboard }}">RWA Leave System</a>
    <ul class="nav-links">
      <li><a href="{{ NAV.dashboard }}">Dashboard</a></li>
      <li><a href="{{ NAV.my_requests }}">My Requests</a></li>
      <li><a href="{{ NAV.team_calendar }}">Calendar</a></li>
      <li><a href="{{ NAV.new_request }}">New Request</a></li>
      {% if NAV.admin %}<li><a href="{{ NAV.admin }}">Admin</a></li>{% endif %}
      {% if current_user.is_authenticated %}<li><a href="{{ NAV.logout }}">Logout</a></li>{% endif %}
    </ul>
  </nav>

  <!-- Blue -> white page background -->
  <div class="content-wrapper">
    <!-- Pale-yellow content container -->
    <main class="container">
      <!-- Flash messages -->
      <div class="flash-stack">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for cat, msg in messages %}
              <div class="flash {{ 'flash-' + cat|lower }}">{{ msg }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}
      </div>

      {% block content %}{% endblock %}

      <footer class="muted" style="margin-top:1rem;font-size:.9rem;">&copy; {{ current_year }}</footer>
    </main>
  </div>

  {% block extra_scripts %}{% endblock %}
</body>
</html>
