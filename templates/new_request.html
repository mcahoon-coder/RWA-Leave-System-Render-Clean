{% extends "base.html" %}
{% block title %}New Request{% endblock %}

{% block content %}
  <div class="card">
    <h1 style="margin-top:0;">New Leave Request</h1>

    <form method="post" action="{{ url_for('new_request') }}">
      <div style="display:grid; grid-template-columns: 1fr 1fr; gap:16px;">
        <div>
          <label for="mode">Mode</label>
          <select id="mode" name="mode">
            <option value="hourly">Hourly</option>
            <option value="daily">Daily</option>
          </select>
        </div>

        <div>
          <label for="kind">Kind</label>
          <select id="kind" name="kind">
            <option value="annual">Annual</option>
            <option value="sick">Sick</option>
          </select>
        </div>

        <div>
          <label for="start_date">Start Date</label>
          <input type="date" id="start_date" name="start_date" required>
        </div>
        <div>
          <label for="end_date">End Date</label>
          <input type="date" id="end_date" name="end_date" required>
        </div>

        <div>
          <label for="hours">Hours (if hourly)</label>
          <input type="number" step="0.25" id="hours" name="hours">
          <small style="color:#555;">Default workday: {{ workday }} hours</small>
        </div>

        <div>
          <label for="start_time">Start Time</label>
          <input type="time" id="start_time" name="start_time" step="900">
        </div>
        <div>
          <label for="end_time">End Time</label>
          <input type="time" id="end_time" name="end_time" step="900">
        </div>

        <div style="grid-column:1/-1;">
          <label for="reason">Reason</label>
          <textarea id="reason" name="reason" rows="3" style="width:100%;"></textarea>
        </div>

        <div style="grid-column:1/-1;">
          <label style="display:flex; align-items:center; gap:8px;">
            <input type="checkbox" name="school_related" value="1">
            This leave is <strong>school-related</strong> (no deduction to balance on approval)
          </label>
        </div>

        <div style="grid-column:1/-1; margin-top:12px;">
          <button class="btn" type="submit">Submit Request</button>
        </div>
      </div>
    </form>
  </div>
{% endblock %}
